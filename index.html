<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>טופס נציגים ורכזים - הפצת כתבי הקודש של הינוקא הקדוש</title>
    <style>
        body {
            font-family: 'David Libre', 'Times New Roman', serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #F5F5DC;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .header-card {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: 3px solid #8B4513;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.3);
            position: relative;
        }
        
        .header-card::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px solid #8B4513;
            border-radius: 10px;
            pointer-events: none;
        }
        
        .header-title {
            font-size: 32px;
            font-weight: 700;
            color: #8B4513;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
            letter-spacing: 2px;
        }
        
        .hebrew-text {
            font-size: 18px;
            line-height: 1.8;
            color: #654321;
            font-weight: 500;
            text-align: justify;
            margin: 0 20px;
        }
        
        .form-container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 3px solid #FFD700;
            position: relative;
        }
        
        .form-container::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 1px solid #FFD700;
            border-radius: 10px;
            pointer-events: none;
        }
        
        .form-title {
            text-align: center;
            color: #8B4513;
            margin-bottom: 30px;
            font-size: 24px;
            font-weight: 700;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #8B4513;
            font-size: 16px;
        }
        
        input[type="text"], 
        input[type="email"], 
        input[type="tel"], 
        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #FFD700;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'David Libre', serif;
            transition: all 0.3s;
            box-sizing: border-box;
            background: linear-gradient(to bottom, #FFFEF7, #FFF8DC);
        }
        
        input[type="text"]:focus, 
        input[type="email"]:focus, 
        input[type="tel"]:focus, 
        textarea:focus {
            outline: none;
            border-color: #8B4513;
            box-shadow: 0 0 10px rgba(255,215,0,0.4);
            background: white;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            gap: 25px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .radio-option, .checkbox-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            border: 2px solid #FFD700;
            border-radius: 25px;
            background: linear-gradient(to bottom, #FFFEF7, #FFF8DC);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .radio-option:hover, .checkbox-option:hover {
            background: linear-gradient(to bottom, #FFD700, #FFA500);
            color: #8B4513;
        }
        
        .radio-option input:checked + label,
        .checkbox-option input:checked + label {
            color: #8B4513;
            font-weight: bold;
        }
        
        input[type="radio"], input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin: 0;
            accent-color: #FFD700;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            color: #8B4513;
            padding: 18px 40px;
            border: 3px solid #8B4513;
            border-radius: 25px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.7);
            font-family: 'David Libre', serif;
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(139, 69, 19, 0.4);
            background: linear-gradient(135deg, #FFA500 0%, #FFD700 50%, #FFA500 100%);
        }
        
        .required {
            color: #DC143C;
            font-weight: bold;
        }
        
        .success-message {
            display: none;
            background: linear-gradient(135deg, #90EE90, #98FB98);
            color: #006400;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #228B22;
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="bsd-label">בס"ד</div>
        <h2 class="form-title">טופס נציגים ורכזים - הפצת כתבי הקודש של הינוקא הקדוש</h2>
        <form id="volunteerForm">
            <div class="form-group">
                <label>שם מלא:</label>
                <input type="text" name="fullName" required>
            </div>
            <div class="form-group">
                <label>מספר פלאפון:</label>
                <input type="tel" name="phone" required>
            </div>
            <div class="form-group">
                <label>כתובת מייל:</label>
                <input type="email" name="email">
            </div>
            <div class="form-group">
                <label>מעוניין להמשיך להיות:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="distributor" name="role" value="מפיץ">
                        <label for="distributor">מפיץ</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="coordinator" name="role" value="רכז">
                        <label for="coordinator">רכז</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="both" name="role" value="שניהם">
                        <label for="both">שניהם</label>
                    </div>
                </div>
            </div>
            <div id="distributorFields" style="display:none;">
                <div class="split-group">
                    <div class="form-group">
                        <label>שם הרכז:</label>
                        <input type="text" name="coordinatorName">
                    </div>
                    <div class="form-group">
                        <label>טלפון הרכז:</label>
                        <input type="tel" name="coordinatorPhone">
                    </div>
                </div>
            </div>
            <div id="coordinatorFields" style="display:none;">
                <div class="form-group">
                    <label>האם יש תחתיך מפיצים? <span style="font-size:0.9em">(במידה שמדובר בטלפונים כשרים)</span></label>
                    <select name="hasDistributors" id="hasDistributors">
                        <option value="">בחר</option>
                        <option value="כן">כן</option>
                        <option value="לא">לא</option>
                    </select>
                </div>
                <div class="form-group" id="distributorsPhonesGroup" style="display:none;">
                    <label>מספרי טלפונים של נציגים:</label>
                    <textarea name="distributorsPhones"></textarea>
                </div>
                <div class="form-group">
                    <label>האם אתה תורם כל חודש?</label>
                    <select name="coordinatorDonation" id="coordinatorDonation">
                        <option value="">בחר</option>
                        <option value="כן">כן</option>
                        <option value="לא">לא</option>
                    </select>
                </div>
                <div class="form-group" id="coordinatorAmountGroup" style="display:none;">
                    <label>כמה אתה תורם בכל חודש? (₪)</label>
                    <input type="number" name="coordinatorAmount" min="0">
                </div>
                <div class="form-group">
                    <label>האם הנציגים תורמים כל חודש?</label>
                    <select name="distributorsDonation" id="distributorsDonation">
                        <option value="">בחר</option>
                        <option value="כן">כן</option>
                        <option value="לא">לא</option>
                    </select>
                </div>
                <div class="form-group" id="distributorsAmountGroup" style="display:none;">
                    <label>כמה הנציגים תורמים בכל חודש? (₪)</label>
                    <input type="number" name="distributorsAmount" min="0">
                </div>
            </div>
            <div class="split-group">
                <div class="form-group">
                    <label>עיר:</label>
                    <input type="text" name="city">
                </div>
                <div class="form-group">
                    <label>כמות שבועית (סה"כ מחולקת בעירך):</label>
                    <input type="number" name="weeklyAmount" min="0">
                </div>
            </div>
            <div class="form-group">
                <label>אני מגיע לאסוף את הכתבי קודש בכל שבוע:</label>
                <select name="weeklyPickup">
                    <option value="">בחר</option>
                    <option value="כן">כן</option>
                    <option value="לא">לא</option>
                </select>
            </div>
            <div class="form-group">
                <label>מעוניין לעזור ב:</label>
                <textarea name="helpWith"></textarea>
            </div>
            <button type="submit" class="submit-btn">שלח</button>
        </form>
        <div id="successMessage" class="success-message">
            הטופס נשלח בהצלחה! תודה רבה על השתתפותך בפעילות הקדושה.
        </div>
    </div>
    <script>
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxSojFFKfsC4XdrsZ5H5L8iPFedV8F9GBasMC1MfWy8AjY9y1fbAPxnZnowPa2VJODtYQ/exec';

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('volunteerForm');
            const roleRadios = document.querySelectorAll('input[name="role"]');
            const coordinatorFields = document.getElementById('coordinatorFields');
            const distributorFields = document.getElementById('distributorFields');
            const hasDistributors = document.getElementById('hasDistributors');
            const distributorsPhonesGroup = document.getElementById('distributorsPhonesGroup');
            const coordinatorDonation = document.getElementById('coordinatorDonation');
            const coordinatorAmountGroup = document.getElementById('coordinatorAmountGroup');
            const distributorsDonation = document.getElementById('distributorsDonation');
            const distributorsAmountGroup = document.getElementById('distributorsAmountGroup');
            const successMessage = document.getElementById('successMessage');

            roleRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    const value = this.value;
                    coordinatorFields.style.display = (value === 'רכז' || value === 'שניהם') ? 'block' : 'none';
                    distributorFields.style.display = (value === 'מפיץ' || value === 'שניהם') ? 'block' : 'none';
                });
            });

            if (hasDistributors) {
                hasDistributors.addEventListener('change', function() {
                    distributorsPhonesGroup.style.display = this.value === 'כן' ? 'block' : 'none';
                });
            }

            if (coordinatorDonation) {
                coordinatorDonation.addEventListener('change', function() {
                    coordinatorAmountGroup.style.display = this.value === 'כן' ? 'block' : 'none';
                });
            }

            if (distributorsDonation) {
                distributorsDonation.addEventListener('change', function() {
                    distributorsAmountGroup.style.display = this.value === 'כן' ? 'block' : 'none';
                });
            }

            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                const formData = new FormData(form);
                const data = Object.fromEntries(formData);
                data.timestamp = new Date().toLocaleString('he-IL');
                try {
                    await fetch(GOOGLE_SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data)
                    });
                    successMessage.style.display = 'block';
                    form.reset();
                    successMessage.scrollIntoView({behavior: 'smooth'});
                } catch (error) {
                    alert('אירעה שגיאה בשליחת הטופס. אנא נסה שוב.');
                }
            });
        });
    </script>
</body>
</html>